<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Salary Slip</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { font-family: Arial, sans-serif; padding: 25px; font-size: 14px; }
    .header { text-align: center; margin-bottom: 15px; }
    table { width:100%; border-collapse: collapse; margin-top: 10px; }
    td, th { padding: 8px; border: 1px solid #d5d5d5; }
    .sign-box { margin-top: 40px; display:flex; justify-content:space-between; padding: 0 20px; }
    .note { margin-top: 30px; font-size: 11px; color:#555; text-align:center; }
    .sig-img { height: 50px; margin-bottom:5px; }
  </style>
</head>

<body>

  <div class="header">
    <h2><%= setting ? setting.title : "Company Name" %></h2>
    <div><%= setting ? setting.address : "" %></div>
    <h4 class="mt-2">
      Pay Slip for <%= month.monthName %> - <%= String(month.year).slice(-2) %>
    </h4>
  </div>

  <table>
    <tr>
      <td>Employee Name</td>
      <td><%= employee.name %></td>
      <td>Paid Days</td>
      <td><%= salary.paidDays %></td>
    </tr>

    <tr>
      <td>Designation</td>
      <td><%= employee.designation %></td>
      <td>Leaves</td>
      <td><%= salary.leaveDays %></td>
    </tr>

    <tr>
      <td>Department</td>
      <td><%= employee.department %></td>
      <td>Deductions</td>
      <td>Rs. <%= salary.totalDeductions %></td>
    </tr>

    <tr>
      <td>Total Working Days</td>
      <td><%= month.workingDays %></td>
      <td>Advance</td>
      <td>Rs. <%= salary.advance %></td>
    </tr>

    <tr>
      <td>Basic Salary</td>
      <td>Rs. <%= salary.monthlySalary %></td>
      <td>Other Deductions</td>
      <td>Rs. <%= salary.otherDeductions %></td>
    </tr>

    <tr>
      <td>OT Amount</td>
      <td>Rs. <%= salary.otAmount %></td>
      <td>Actual Working Hours</td>
      <td><%= salary.workingHours %></td>
    </tr>

    <tr>
      <th>Net Salary</th>
      <th>Rs. <%= salary.netSalary %></th>
      <td></td>
      <td></td>
    </tr>
  </table>

  <!-- SIGNATURE SECTION -->
  <div class="sign-box">
    <div style="text-align:center;">
      <% if (setting && setting.signaturePath) { %>
        <img src="<%= setting.signaturePath %>" class="sig-img">
      <% } %>
      <div><strong>Employer Sign</strong></div>
    </div>

    <div style="text-align:center;">
      <div style="height:50px;"></div> <!-- empty box for employee sign -->
      <div><strong>Employee Sign</strong></div>
    </div>
  </div>

  <!-- NOTE SECTION -->
  <div class="note">
    <p>
      This is a computer-generated salary slip and does not require a physical signature.  
      For any correction or clarification, please contact HR or employer email:
      <strong><%= setting && setting.email ? setting.email : "" %></strong>
    </p>
  </div>

</body>
</html>
